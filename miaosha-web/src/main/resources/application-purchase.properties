# 抢购消息队列配置
purchase.message.exchange=miaosha.purchase.exchange
purchase.message.routing.key=miaosha.purchase
purchase.message.queue=miaosha.purchase.queue
purchase.message.delayed.exchange=purchase.delayed.exchange
purchase.message.delayed.routing.key=purchase.delayed
purchase.message.delayed.queue=purchase.delayed.queue

# 抢购结果缓存配置
purchase.message.result.expire.hours=24

# 消息队列连接配置
spring.rabbitmq.host=localhost
spring.rabbitmq.port=5672
spring.rabbitmq.username=guest
spring.rabbitmq.password=guest
spring.rabbitmq.virtual-host=/

# 消息队列监听器配置
spring.rabbitmq.listener.simple.retry.enabled=true
spring.rabbitmq.listener.simple.retry.initial-interval=1000
spring.rabbitmq.listener.simple.retry.max-attempts=3
spring.rabbitmq.listener.simple.retry.multiplier=1.0
spring.rabbitmq.listener.simple.retry.max-interval=10000

# 消息确认配置
spring.rabbitmq.listener.simple.acknowledge-mode=manual
spring.rabbitmq.listener.simple.prefetch=1

# 顺序消费配置 - 通过设置并发数为1来确保顺序消费
spring.rabbitmq.listener.simple.concurrency=1
spring.rabbitmq.listener.simple.max-concurrency=1